import { createClient } from "@prismicio/client";
import { usePrismicPreviewStore } from "../usePrismicPreviewStore.js";
const getClient = (pluginOptions) => {
  const state = usePrismicPreviewStore.getState();
  if (state.client) {
    return state.client;
  } else {
    const client = createClient(pluginOptions.apiEndpoint || pluginOptions.repositoryName, {
      accessToken: pluginOptions.accessToken,
      routes: pluginOptions.routes,
      defaultParams: {
        lang: pluginOptions.lang || "*",
        fetchLinks: pluginOptions.fetchLinks,
        graphQuery: pluginOptions.graphQuery,
        predicates: pluginOptions.predicates
      }
    });
    state.setClient(client);
    return client;
  }
};
export {
  getClient
};
//# sourceMappingURL=getClient.js.map
