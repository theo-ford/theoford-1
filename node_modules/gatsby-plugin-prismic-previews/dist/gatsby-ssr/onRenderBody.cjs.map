{"version":3,"file":"onRenderBody.cjs","sources":["../../../src/gatsby-ssr/onRenderBody.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { getToolbarSrc } from \"@prismicio/client\";\nimport type { RenderBodyArgs } from \"gatsby\";\n\nimport type { PluginOptions } from \"../types\";\n\nexport const onRenderBody = (\n\targs: RenderBodyArgs,\n\toptions: PluginOptions,\n): void => {\n\tconst toolbarURL = new URL(getToolbarSrc(options.repositoryName));\n\n\targs.setHeadComponents([\n\t\t<link\n\t\t\trel=\"preconnect\"\n\t\t\tkey=\"preconnect-prismic-toolbar\"\n\t\t\thref={toolbarURL.origin}\n\t\t/>,\n\t\t<link\n\t\t\trel=\"dns-prefetch\"\n\t\t\tkey=\"dns-prefetch-prismic-toolbar\"\n\t\t\thref={toolbarURL.origin}\n\t\t/>,\n\t]);\n\n\t// TODO: Maybe utilize the new Script component if the Gatsby version\n\t// supports it.\n\targs.setPostBodyComponents([\n\t\t<script\n\t\t\tsrc={toolbarURL.href}\n\t\t\tdefer={true}\n\t\t\tkey={`prismic-toolbar-${options.repositoryName}`}\n\t\t/>,\n\t]);\n};\n"],"names":["getToolbarSrc","jsx"],"mappings":";;;;AAMa,MAAA,eAAe,CAC3B,MACA,YACS;AACT,QAAM,aAAa,IAAI,IAAIA,OAAc,cAAA,QAAQ,cAAc,CAAC;AAEhE,OAAK,kBAAkB;AAAA,mCACrB,QACA,EAAA,KAAI,cAEJ,MAAM,WAAW,UADb,4BACoB;AAAA,mCAExB,QACA,EAAA,KAAI,gBAEJ,MAAM,WAAW,UADb,8BACoB;AAAA,EAAA,CAEzB;AAID,OAAK,sBAAsB;AAAA,IAC1BC,2BAAAA,IAAC,YACA,KAAK,WAAW,MAChB,OAAO,KAAA,GACF,mBAAmB,QAAQ,gBAAiB;AAAA,EAAA,CAElD;AACF;;"}