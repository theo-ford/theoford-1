{"version":3,"file":"onPreBootstrap.cjs","sources":["../../../src/gatsby-node/onPreBootstrap.ts"],"sourcesContent":["import * as path from \"path\";\nimport type { ParentSpanPluginArgs } from \"gatsby\";\n\nimport { getPublicModelsFileName } from \"../lib/getPublicModelsFileName\";\n\nimport * as fs from \"fs/promises\";\nimport { PUBLIC_MODELS_FILE_NAME_SEED_CACHE_KEY } from \"../constants\";\n\nexport const onPreBootstrap = async (\n\targs: ParentSpanPluginArgs,\n): Promise<void> => {\n\tconst publicModelsFileName = await getPublicModelsFileName(args.cache);\n\n\ttry {\n\t\tawait fs.unlink(path.join(\"public\", \"static\", publicModelsFileName));\n\t} catch {\n\t\t// noop\n\t}\n\n\tawait args.cache.del(PUBLIC_MODELS_FILE_NAME_SEED_CACHE_KEY);\n};\n"],"names":["getPublicModelsFileName","fs","path","PUBLIC_MODELS_FILE_NAME_SEED_CACHE_KEY"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAQa,MAAA,iBAAiB,OAC7B,SACkB;AAClB,QAAM,uBAAuB,MAAMA,wBAAAA,wBAAwB,KAAK,KAAK;AAEjE,MAAA;AACH,UAAMC,cAAG,OAAOC,gBAAK,KAAK,UAAU,UAAU,oBAAoB,CAAC;AAAA,EAAA,QAClE;AAAA,EAED;AAEK,QAAA,KAAK,MAAM,IAAIC,UAAsC,sCAAA;AAC5D;;"}